<?xml version="1.0"?>
<!--
  ATI NetFT Sensor + Transvaginal Probe for Drake
  NetFT dimensions from: ur_admittance_controller/urdf/ur_ft_sensor.xacro
-->
<robot name="netft_probe" xmlns:drake="http://drake.mit.edu">
  <!-- Properties (from xacro) -->
  <!-- sensor_dip: 0.003m, sensor_length: 0.04906m -->

  <!-- NetFT Base (attaches to UR5e flange) -->
  <link name="netft_link">
    <visual>
      <origin xyz="0 0 0.003" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://ur5e_description/netft/ati_netft_gamma.obj"/>
      </geometry>
      <material name="grey">
        <color rgba="0.5 0.5 0.5 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0.003" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://ur5e_description/netft/ati_netft_gamma.obj"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.5"/>
      <origin xyz="0 0 0.02753" rpy="0 0 0"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
  </link>

  <!-- Transvaginal Probe -->
  <joint name="transvaginal_probe_joint" type="fixed">
    <origin xyz="-0.075 0 0.15206" rpy="4.71239 4.71239 1.5708"/>
    <parent link="netft_link"/>
    <child link="transvaginal_probe_link"/>
  </joint>
  <link name="transvaginal_probe_link">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://ur5e_description/probe/transvaginal_probe.obj"/>
      </geometry>
      <material name="white">
        <color rgba="0.9 0.9 0.9 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
         <mesh filename="package://ur5e_description/probe/transvaginal_probe.obj"/>
      </geometry>
      <drake:proximity_properties>
        <drake:compliant_hydroelastic/>
        <drake:hydroelastic_modulus value="1e8"/>
        <drake:mesh_resolution_hint value="0.01"/>
        <drake:hunt_crossley_dissipation value="1.0"/>
        <drake:mu_dynamic value="1.0"/>
        <drake:mu_static value="1.0"/>
      </drake:proximity_properties>
    </collision>
    <inertial>
      <mass value="0.3"/>
      <origin xyz="-0.018 0 0.014" rpy="0 0 0"/>
      <inertia ixx="0.002" ixy="0" ixz="0" iyy="0.002" iyz="0" izz="0.0005"/>
    </inertial>
  </link>

  <!-- TCP Frame (Tool Center Point) -->
  <joint name="tcp_joint" type="fixed">
    <origin xyz="0 0 0.214" rpy="0 0 0"/>
    <parent link="transvaginal_probe_link"/>
    <child link="tcp"/>
  </joint>
  <link name="tcp"/>

</robot>
